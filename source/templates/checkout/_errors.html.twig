{% set error = craft.app.session.getFlash('error') %}

{% if error %}
<vue-checkout-error-modal :active-modal="activeModal" name="checkoutError" v-cloak>
  <div slot="body">
    <h3>We've encountered an error, please see below.</h3>
    <p>{{ error }}</p>
  </div>
  <div slot="footer">
    <button class="modal__defaultButton"
      v-on:click="closeModal">
      Close
    </button>
  </div>
</vue-checkout-error-modal>
{% endif %}

<vue-modal :active-modal="activeModal" name="checkoutError__modal" class="contactUs__modal" v-cloak id="checkoutError__modal">
  <div slot="header">
    <div class="container container--noPad">
      <div class="row">
        <div class="l--extraSmall--10 columns margin--bottom--none">
          <h4>We've encountered an error, please see below.</h4>
        </div>
        <div class="l--extraSmall--2 columns text--alignRight margin--bottom--half">
          <div id="modal-close-button" class="text--alignRight" v-on:click="closeModal('checkoutError__modal')"><img src="/assets/images/modal-close-button.png" /> </div>
        </div>
      </div>
    </div>
  </div>
  <div slot="body">
    <div class="container container--noPad margin--top">
      <div class="row">
        <div class="l--medium--12 columns">
          <p>Please review the address to ensure it has been entered correctly. If you were trying to pay using your credit card, please ensure the card details are valid. If the issue persists, please call our in-home specialist at 559-256-8020</p>
        </div>
      </div>

      <div class="l--medium--6 columns">
        <button class="text--uppercase text--alignCenter" v-on:click="closeModal('whiteGloveUnavailable__modal')">Close - Return to Checkout</button>
      </div>
    </div>
  </div>
  <div slot="footer"></div>
</vue-modal>
